# 로그인 페이지 시나리오 (Login)

## 개요

- 앱 진입 및 사용자 인증 화면
- Google OAuth 2.0 소셜 로그인
- 신규/기존 사용자에 따라 다음 화면 분기

## 진입 조건

| 조건 | 동작 |
|------|------|
| 앱 최초 실행 (온보딩 완료 후) | 로그인 화면 표시 |
| 로그아웃 후 | 로그인 화면 표시 |
| 세션 만료 | 로그인 화면 + 토스트 |

## 레이아웃

```
┌─────────────────────────────────────┐
│            Status Bar               │
├─────────────────────────────────────┤
│                                     │
│              [로고]                 │
│         Stock-Keeper               │
│   "스마트한 포트폴리오 관리의 시작"  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │ 💼 포트폴리오 관리             │  │
│  │ 📈 실시간 시세 확인           │  │
│  │ ⚖️ 리밸런싱 분석              │  │
│  └───────────────────────────────┘  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │ 🔷 Google로 시작하기          │  │
│  └───────────────────────────────┘  │
│                                     │
│  이용약관 및 개인정보처리방침 동의   │
└─────────────────────────────────────┘
```

## 컴포넌트

| 컴포넌트 | 설명 |
|----------|------|
| 앱 로고 | Stock-Keeper 브랜드 로고 |
| 태그라인 | "스마트한 포트폴리오 관리의 시작" |
| 기능 하이라이트 | 핵심 기능 3개 (포트폴리오, 시세, 리밸런싱) |
| Google 로그인 버튼 | OAuth 2.0 인증 시작 |
| 약관 링크 | 이용약관, 개인정보처리방침 |

## 상호작용

| 액션 | 동작 |
|------|------|
| Google 버튼 탭 | Google OAuth 플로우 시작 |
| 약관 링크 탭 | 웹뷰로 약관 페이지 |
| 로그인 성공 (신규) | → 프로필 입력 화면 |
| 로그인 성공 (기존) | → 홈 화면 |

## 로그인 플로우

```
[Google 시작하기] 
    ↓
[Google OAuth 팝업]
    ↓
[서버 인증 (로딩)]
    ↓
┌─ 신규 사용자 (is_new_user = true)
│   └→ 프로필 입력 화면
│
└─ 기존 사용자 (is_new_user = false)
    └→ 홈 화면
```

## 상태

| 상태 | UI |
|------|-----|
| Default | 모든 요소 정상, 버튼 활성화 |
| Loading | 버튼에 스피너, 버튼 비활성화 |
| Error | 버튼 복구, 토스트 메시지 3초 |

## 엣지 케이스

| 상황 | 처리 |
|------|------|
| 네트워크 오류 | 토스트 "연결 실패. 다시 시도해주세요" |
| Google 로그인 취소 | 토스트 "로그인이 취소되었습니다" |
| 서버 점검 중 | 팝업 "서버 점검 중입니다" |
| 세션 만료 | 이 화면 + 토스트 "다시 로그인해주세요" |
| 계정 정지 | 에러 화면 "계정이 정지되었습니다" |

## 반응형

| 화면 크기 | 조정 |
|----------|------|
| 소형 (<360px) | 기능 하이라이트 2줄 압축 |
| 중형 (360~414px) | 기본 레이아웃 |
| 대형 (>414px) | 여백 증가, 로고 확대 |

## 관련 스펙

- API: `../../specs/api/auth/google-callback.md`
- UI: `../../specs/ui/auth/login-screen.md`
- 다음 화면: `02_profile.md`

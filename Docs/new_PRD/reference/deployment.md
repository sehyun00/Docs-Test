# Stock-Keeper - ë°°í¬ ì „ëžµ

> Stock-Keeper í”„ë¡œì íŠ¸ì˜ ë°°í¬ í™˜ê²½ êµ¬ì„±, ë°°í¬ ì „ëžµ, CI/CD íŒŒì´í”„ë¼ì¸, ë¡¤ë°± ë° ìž¥ì•  ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

---

## ìš”ì•½ âš¡

ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ 3ê°œ í™˜ê²½ìœ¼ë¡œ êµ¬ì„±í•˜ë©°, Phase 1ì—ì„œëŠ” ìˆ˜ë™ ë°°í¬ë¡œ ì‹œìž‘í•˜ê³  Phase 2ì—ì„œ GitHub Actions ìžë™ ë°°í¬, Phase 3ì—ì„œ Blue-Green ë°°í¬ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. AWS EC2 + RDSë¥¼ ì‚¬ìš©í•˜ë©°, ëª¨ë°”ì¼ ì•±ì€ TestFlight/Firebase App Distributionìœ¼ë¡œ ë² íƒ€ ë°°í¬ í›„ ì•± ìŠ¤í† ì–´ì— ì •ì‹ ì¶œì‹œí•©ë‹ˆë‹¤. CloudWatchë¡œ ë¡œê·¸ë¥¼ ê´€ë¦¬í•˜ê³  Sentry/Firebase Crashlyticsë¡œ ì—ëŸ¬ë¥¼ ì¶”ì í•©ë‹ˆë‹¤.

---

## ë°°í¬ í™˜ê²½ êµ¬ì„±

### 1. ê°œë°œ í™˜ê²½ (Development)

**`[P1]` Phase 1ë¶€í„° ì‚¬ìš©**

- **ìš©ë„**: ê°œë°œìž ë¡œì»¬ í…ŒìŠ¤íŠ¸
- **ì„œë²„**: ë¡œì»¬ ë¨¸ì‹ 
- **DB**: ë¡œì»¬ MySQL ë˜ëŠ” Docker ì»¨í…Œì´ë„ˆ
- **API**: í•œíˆ¬ API Sandbox (í…ŒìŠ¤íŠ¸ í™˜ê²½)
- **ë„ë©”ì¸**: localhost:8080
- **íŠ¹ì§•**:
  - ê°œë°œìžë³„ ë…ë¦½ì ì¸ í™˜ê²½
  - Hot Reload ì§€ì›
  - ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”

### 2. ìŠ¤í…Œì´ì§• í™˜ê²½ (Staging)

**`[P2]` Phase 2ë¶€í„° êµ¬ì¶•**

- **ìš©ë„**: QA í…ŒìŠ¤íŠ¸, ë°°í¬ ì „ ìµœì¢… ê²€ì¦
- **ì„œë²„**: AWS EC2 t3.micro 1ëŒ€
- **DB**: AWS RDS MySQL (ê°œë°œìš© ì¸ìŠ¤í„´ìŠ¤)
- **ë„ë©”ì¸**: staging-api.stock-keeper.com
- **íŠ¹ì§•**:
  - í”„ë¡œë•ì…˜ê³¼ ë™ì¼í•œ í™˜ê²½ êµ¬ì„±
  - í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚¬ìš©
  - ìžë™ ë°°í¬ í…ŒìŠ¤íŠ¸
  - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì—°ìŠµ

### 3. í”„ë¡œë•ì…˜ í™˜ê²½ (Production)

**`[P1]` Phase 1 ë² íƒ€ ì¶œì‹œ ì‹œ êµ¬ì¶•**

- **ìš©ë„**: ì‹¤ì œ ì‚¬ìš©ìž ì„œë¹„ìŠ¤
- **ì„œë²„**: AWS EC2 t3.small ì´ìƒ (Phase 1), Auto Scaling (Phase 2+)
- **DB**: AWS RDS MySQL (í”„ë¡œë•ì…˜ ì¸ìŠ¤í„´ìŠ¤)
- **ë„ë©”ì¸**: api.stock-keeper.com
- **íŠ¹ì§•**:
  - ì‹¤ì œ ì‚¬ìš©ìž ë°ì´í„°
  - ìžë™ ë°±ì—… í™œì„±í™” (ì¼ì¼)
  - ëª¨ë‹ˆí„°ë§ ê°•í™”
  - SSL/TLS ì¸ì¦ì„œ ì ìš©
  - ë¡œë“œ ë°¸ëŸ°ì„œ (Phase 2+)

### í™˜ê²½ë³„ ë¹„êµí‘œ

| í•­ëª© | ê°œë°œ | ìŠ¤í…Œì´ì§• | í”„ë¡œë•ì…˜ |
|------|------|----------|----------|
| **ì„œë²„** | ë¡œì»¬ | EC2 t3.micro | EC2 t3.small+ |
| **DB** | ë¡œì»¬ MySQL | RDS (dev) | RDS (prod) |
| **ë°±ì—…** | âŒ | âœ… (ì£¼ê°„) | âœ… (ì¼ì¼) |
| **ëª¨ë‹ˆí„°ë§** | âŒ | âœ… | âœ…âœ… |
| **SSL** | âŒ | âœ… | âœ… |
| **Auto Scaling** | âŒ | âŒ | âœ… (P2+) |

---

## Phase 1: ë°°í¬ ì „ëžµ

### Backend ë°°í¬

**ë°°í¬ ë°©ì‹**: ìˆ˜ë™ ë°°í¬ (SSH + Git Pull)

**ë°°í¬ ì ˆì°¨**:

1. **ë¡œì»¬ í…ŒìŠ¤íŠ¸**
   ```bash
   ./gradlew test
   ./gradlew build
   ```

2. **ì½”ë“œ í‘¸ì‹œ**
   ```bash
   git push origin main
   ```

3. **ì„œë²„ ì ‘ì† ë° ë°°í¬**
   ```bash
   ssh user@api.stock-keeper.com
   cd /app/stock-keeper
   git pull origin main
   ./gradlew build
   sudo systemctl restart stock-keeper
   ```

4. **í—¬ìŠ¤ ì²´í¬**
   ```bash
   curl https://api.stock-keeper.com/health
   ```

**ë°°í¬ ì‹œê°„**: ì•½ 5-10ë¶„

### Frontend (ëª¨ë°”ì¼ ì•±) ë°°í¬

#### ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ë°°í¬

**iOS**: TestFlight
```bash
# Expo ë¹Œë“œ
eas build --platform ios

# TestFlight ì—…ë¡œë“œ
eas submit --platform ios
```

**Android**: Firebase App Distribution
```bash
# APK ë¹Œë“œ
eas build --platform android

# Firebase ë°°í¬
firebase appdistribution:distribute app-release.apk \
  --app 1:123456789:android:abcd1234 \
  --groups "testers"
```

#### ì •ì‹ ì¶œì‹œ

**iOS**: App Store
- App Store Connectì—ì„œ ë©”íƒ€ë°ì´í„° ìž‘ì„±
- ìŠ¤í¬ë¦°ìƒ· ë° ì„¤ëª… ì—…ë¡œë“œ
- ì‹¬ì‚¬ ì œì¶œ (ìŠ¹ì¸ê¹Œì§€ 1-3ì¼ ì†Œìš”)

**Android**: Google Play
- Google Play Consoleì—ì„œ ë©”íƒ€ë°ì´í„° ìž‘ì„±
- ìŠ¤í¬ë¦°ìƒ· ë° ì„¤ëª… ì—…ë¡œë“œ
- ë‚´ë¶€ í…ŒìŠ¤íŠ¸ â†’ ë¹„ê³µê°œ í…ŒìŠ¤íŠ¸ â†’ ê³µê°œ ì¶œì‹œ

---

## Phase 2: ìžë™ ë°°í¬

### GitHub Actions ìžë™ ë°°í¬

**ëª©í‘œ**: Zero-downtime ë°°í¬

**ì›Œí¬í”Œë¡œìš°**:

```yaml
name: Deploy to Production

on:
  push:
    branches: [main]
    paths:
      - 'backend/**'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Set up JDK 17
        uses: actions/setup-java@v3
        with:
          java-version: '17'
      
      - name: Run Tests
        run: |
          cd backend
          ./gradlew test
      
      - name: Build JAR
        run: |
          cd backend
          ./gradlew bootJar
      
      - name: Deploy to EC2
        env:
          PRIVATE_KEY: ${{ secrets.EC2_PRIVATE_KEY }}
          HOST: ${{ secrets.EC2_HOST }}
          USER: ${{ secrets.EC2_USER }}
        run: |
          echo "$PRIVATE_KEY" > private_key.pem
          chmod 600 private_key.pem
          
          scp -i private_key.pem backend/build/libs/*.jar $USER@$HOST:/app/
          
          ssh -i private_key.pem $USER@$HOST << 'EOF'
            sudo systemctl stop stock-keeper
            sudo mv /app/*.jar /app/stock-keeper.jar
            sudo systemctl start stock-keeper
            sleep 5
            curl http://localhost:8080/health
          EOF
      
      - name: Notify Slack
        if: always()
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ job.status }}
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

**ë°°í¬ ì‹œê°„**: ì•½ 3-5ë¶„

### OTA ì—…ë°ì´íŠ¸ (Over-The-Air)

**ë„êµ¬**: Expo Updates

**ì ìš© ëŒ€ìƒ**: ê¸´ê¸‰ í•«í”½ìŠ¤, JS ì½”ë“œ ë³€ê²½

```bash
# ì—…ë°ì´íŠ¸ ë°°í¬
eas update --branch production --message "ë²„ê·¸ ìˆ˜ì •"

# ì‚¬ìš©ìž ì•± ìžë™ ì—…ë°ì´íŠ¸ (ì•± ìž¬ì‹œìž‘ ì‹œ)
```

**ìž¥ì **:
- ì•± ìŠ¤í† ì–´ ì‹¬ì‚¬ ë¶ˆí•„ìš”
- ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥ (5ë¶„ ì´ë‚´)
- ì ì§„ì  ë¡¤ì•„ì›ƒ ê°€ëŠ¥

**ì œí•œì‚¬í•­**:
- ë„¤ì´í‹°ë¸Œ ì½”ë“œ ë³€ê²½ ë¶ˆê°€
- JS/TypeScript ì½”ë“œë§Œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥

---

## Phase 3: Blue-Green ë°°í¬

### ë°°í¬ ì „ëžµ

**ëª©í‘œ**: ë¬´ì¤‘ë‹¨ ë°°í¬ (Zero-downtime)

**êµ¬ì„±**:
- **Blue í™˜ê²½**: í˜„ìž¬ ìš´ì˜ ì¤‘ì¸ ë²„ì „
- **Green í™˜ê²½**: ìƒˆ ë²„ì „ ë°°í¬ í™˜ê²½
- **ë¡œë“œ ë°¸ëŸ°ì„œ**: íŠ¸ëž˜í”½ ì „í™˜

**ë°°í¬ ì ˆì°¨**:

1. **Green í™˜ê²½ì— ìƒˆ ë²„ì „ ë°°í¬**
   - EC2 ì¸ìŠ¤í„´ìŠ¤ ì‹œìž‘
   - ìƒˆ ë²„ì „ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
   - í—¬ìŠ¤ ì²´í¬ í†µê³¼ í™•ì¸

2. **íŠ¸ëž˜í”½ ì „í™˜**
   - ALBì—ì„œ Green í™˜ê²½ìœ¼ë¡œ íŠ¸ëž˜í”½ ì „í™˜
   - ì ì§„ì  ì „í™˜ ê°€ëŠ¥ (10% â†’ 50% â†’ 100%)

3. **ëª¨ë‹ˆí„°ë§**
   - ì—ëŸ¬ìœ¨, ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§
   - ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ Blueë¡œ ë¡¤ë°±

4. **Blue í™˜ê²½ ì¢…ë£Œ**
   - Green í™˜ê²½ì´ ì•ˆì •ì ì´ë©´ Blue ì¢…ë£Œ

### Canary ë°°í¬ (ì„ íƒì )

**ì ìš© ì‹œì **: Phase 3 í›„ë°˜

**ì „ëžµ**:
- ìƒˆ ë²„ì „ì„ 5% ì‚¬ìš©ìžì—ê²Œë§Œ ë°°í¬
- ë¬¸ì œ ì—†ìœ¼ë©´ ì ì§„ì ìœ¼ë¡œ í™•ëŒ€ (10% â†’ 25% â†’ 50% â†’ 100%)
- ì—ëŸ¬ìœ¨ ì¦ê°€ ì‹œ ìžë™ ë¡¤ë°±

---

## ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „

- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸ (ë‹¨ìœ„/í†µí•©/E2E)
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] DB ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì¤€ë¹„ (í•„ìš”ì‹œ)
- [ ] í™˜ê²½ ë³€ìˆ˜ í™•ì¸ (API Key, Secret)
- [ ] í”„ë¡œë•ì…˜ DB ë°±ì—… ì™„ë£Œ
- [ ] ë°°í¬ ê³µì§€ (ì‚¬ìš©ìž, íŒ€ì›)
- [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½

### ë°°í¬ ì¤‘

- [ ] ë°°í¬ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- [ ] í—¬ìŠ¤ ì²´í¬ API ì‘ë‹µ í™•ì¸
- [ ] ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§
- [ ] ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§

### ë°°í¬ í›„

- [ ] ì£¼ìš” ê¸°ëŠ¥ ë™ìž‘ í™•ì¸ (Smoke Test)
- [ ] ì—ëŸ¬ ë¡œê·¸ í™•ì¸
- [ ] ì‚¬ìš©ìž í”¼ë“œë°± ëª¨ë‹ˆí„°ë§
- [ ] ë°°í¬ ê²°ê³¼ íŒ€ ê³µìœ 
- [ ] ë°°í¬ ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

## ë¡¤ë°± ì „ëžµ

### Backend ë¡¤ë°±

**ë°©ë²• 1: Git ë¡¤ë°±**
```bash
# ì´ì „ ì»¤ë°‹ìœ¼ë¡œ ë¡¤ë°±
ssh user@server
cd /app/stock-keeper
git reset --hard <previous-commit-hash>
./gradlew build
sudo systemctl restart stock-keeper
```

**ë°©ë²• 2: ì´ì „ JAR íŒŒì¼ ë³µì›**
```bash
ssh user@server
cd /app
sudo mv stock-keeper-backup.jar stock-keeper.jar
sudo systemctl restart stock-keeper
```

**ë¡¤ë°± ì‹œê°„**: ì•½ 3-5ë¶„

### Frontend ë¡¤ë°±

**ì•± ìŠ¤í† ì–´**: ì´ì „ ë²„ì „ ìž¬ë°°í¬
- ìŠ¹ì¸ í•„ìš” (1-3ì¼ ì†Œìš”)
- ê¸´ê¸‰ ìƒí™©ì—ëŠ” OTA ì—…ë°ì´íŠ¸ ì‚¬ìš© ê¶Œìž¥

**OTA ì—…ë°ì´íŠ¸**: ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥
```bash
# ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
eas update --branch production --message "ê¸´ê¸‰ ë¡¤ë°±"
```

### DB ë¡¤ë°±

**ë°©ë²•**: Point-in-Time Recovery (AWS RDS)

```bash
# AWS CLIë¡œ íŠ¹ì • ì‹œì ìœ¼ë¡œ ë³µì›
aws rds restore-db-instance-to-point-in-time \
  --source-db-instance-identifier stock-keeper-prod \
  --target-db-instance-identifier stock-keeper-prod-restored \
  --restore-time 2026-01-15T10:00:00Z
```

**ì£¼ì˜ì‚¬í•­**:
- DB ë¡¤ë°±ì€ ìµœí›„ì˜ ìˆ˜ë‹¨
- ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ì—°ê²° ë³€ê²½ í•„ìš”
- ë¡¤ë°± ì´í›„ ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ì„±

---

## ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸ ê´€ë¦¬

### ë¡œê·¸ ìˆ˜ì§‘

**Backend ë¡œê·¸**:

- **ë¡œê·¸ ë ˆë²¨**: ERROR, WARN, INFO, DEBUG
- **ë¡œê·¸ í¬ë§·**: JSON
  ```json
  {
    "timestamp": "2026-01-15T10:30:00Z",
    "level": "ERROR",
    "message": "Failed to fetch stock price",
    "userId": "user123",
    "requestId": "req-abc-123",
    "stackTrace": "..."
  }
  ```
- **ì €ìž¥ ìœ„ì¹˜**: AWS CloudWatch Logs
- **ë³´ê´€ ê¸°ê°„**: 30ì¼ (Phase 1), 90ì¼ (Phase 2+)

**Frontend ë¡œê·¸**:

- **í¬ëž˜ì‹œ ë¦¬í¬íŠ¸**: Firebase Crashlytics
- **ì—ëŸ¬ ë¡œê·¸**: Sentry (Phase 2+)
- **ì‚¬ìš©ìž í–‰ë™ ë¡œê·¸**: Firebase Analytics

### ì—ëŸ¬ ì¶”ì 

**ë„êµ¬**: Firebase Crashlytics (Phase 1), Sentry (Phase 2+)

**ì•Œë¦¼ ì„¤ì •**:

- **í¬ë¦¬í‹°ì»¬ ì—ëŸ¬**: ì¦‰ì‹œ Slack ì•Œë¦¼
  - 500 ì—ëŸ¬
  - DB ì—°ê²° ì‹¤íŒ¨
  - API í˜¸ì¶œ ì‹¤íŒ¨

- **ì¼ë°˜ ì—ëŸ¬**: ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸
  - 4xx ì—ëŸ¬
  - ê²½ê³  ë¡œê·¸

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

**ë„êµ¬**:
- **Phase 1**: AWS CloudWatch
- **Phase 2**: New Relic (ì„ íƒì )
- **Phase 3**: DataDog ë˜ëŠ” Prometheus + Grafana

**ëª¨ë‹ˆí„°ë§ ì§€í‘œ**:

| ì§€í‘œ | ëª©í‘œ | ì•Œë¦¼ ìž„ê³„ê°’ |
|------|------|-------------|
| **API ì‘ë‹µ ì‹œê°„ (P95)** | 2ì´ˆ ì´ë‚´ | 3ì´ˆ ì´ˆê³¼ |
| **ì—ëŸ¬ìœ¨** | 1% ì´í•˜ | 5% ì´ˆê³¼ |
| **CPU ì‚¬ìš©ë¥ ** | 70% ì´í•˜ | 80% ì´ˆê³¼ |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ** | 70% ì´í•˜ | 85% ì´ˆê³¼ |
| **DB ì—°ê²° ìˆ˜** | 80% ì´í•˜ | 90% ì´ˆê³¼ |

### ëŒ€ì‹œë³´ë“œ

**Phase 1**: CloudWatch ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ
- CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
- API ìš”ì²­ ìˆ˜, ì—ëŸ¬ìœ¨

**Phase 2**: Grafana ì»¤ìŠ¤í…€ ëŒ€ì‹œë³´ë“œ
- ì‹¤ì‹œê°„ íŠ¸ëž˜í”½ ê·¸ëž˜í”„
- ì‘ë‹µ ì‹œê°„ ë¶„í¬ (P50, P95, P99)
- ì—ëŸ¬ ë¡œê·¸ ì§‘ê³„

---

## ìž¥ì•  ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤

### ìž¥ì•  ê°ì§€

**ê°ì§€ ë°©ë²•**:
1. ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ (CloudWatch, Sentry)
2. í—¬ìŠ¤ ì²´í¬ ì‹¤íŒ¨
3. ì‚¬ìš©ìž ì‹ ê³ 

**ê°ì§€ ëª©í‘œ**: 5ë¶„ ì´ë‚´

### ê¸´ê¸‰ ì¡°ì¹˜

**1ë‹¨ê³„: ìž¥ì•  ì›ì¸ íŒŒì•…** (5ë¶„)
- CloudWatch ë¡œê·¸ í™•ì¸
- ì—ëŸ¬ ì¶”ì  ë„êµ¬ í™•ì¸
- ìµœê·¼ ë°°í¬ ì´ë ¥ í™•ì¸

**2ë‹¨ê³„: ì¦‰ì‹œ ëŒ€ì‘** (10ë¶„)
- ê°€ëŠ¥í•˜ë©´ ì¦‰ì‹œ ë¡¤ë°±
- ë¶ˆê°€ëŠ¥í•˜ë©´ ì„œë¹„ìŠ¤ ì¼ì‹œ ì¤‘ë‹¨
- ì‚¬ìš©ìž ê³µì§€ (ì•± ë‚´ ê³µì§€, í‘¸ì‹œ ì•Œë¦¼)

**3ë‹¨ê³„: ë³µêµ¬** (30ë¶„ ì´ë‚´ ëª©í‘œ)
- í•«í”½ìŠ¤ ë°°í¬
- ë˜ëŠ” ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
- ì„œë¹„ìŠ¤ ìž¬ê°œ

### ì‚¬í›„ ì²˜ë¦¬

**ê·¼ë³¸ ì›ì¸ ë¶„ì„ (RCA)**:
- ìž¥ì•  ë°œìƒ ì‹œê°„ ë° ê¸°ê°„
- ìž¥ì•  ì›ì¸ ìƒì„¸ ë¶„ì„
- ì˜í–¥ ë°›ì€ ì‚¬ìš©ìž ìˆ˜
- ìž¬ë°œ ë°©ì§€ ëŒ€ì±…

**ìž¬ë°œ ë°©ì§€**:
- ëª¨ë‹ˆí„°ë§ ê°•í™”
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€
- ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ ê°œì„ 

### ìž¥ì•  ëŒ€ì‘ ì‹œê°„ ëª©í‘œ

| ë‹¨ê³„ | ëª©í‘œ ì‹œê°„ |
|------|----------|
| **ê°ì§€** | 5ë¶„ ì´ë‚´ |
| **ëŒ€ì‘ ì‹œìž‘** | 15ë¶„ ì´ë‚´ |
| **ë³µêµ¬ ì™„ë£Œ** | 1ì‹œê°„ ì´ë‚´ |

---

## ì¸í”„ë¼ êµ¬ì„±

### Phase 1: ìµœì†Œ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ìž ì•±      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AWS EC2       â”‚
â”‚ (t3.small)      â”‚
â”‚  Spring Boot    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AWS RDS       â”‚
â”‚   MySQL         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 2: í™•ìž¥ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ìž ì•±      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudFront     â”‚
â”‚  (CDN)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ALB           â”‚
â”‚ (Load Balancer) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚  EC2  â”‚ â”‚  EC2  â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AWS RDS       â”‚
â”‚   MySQL         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ElastiCache   â”‚
â”‚   Redis         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 3: ê³ ê°€ìš©ì„± êµ¬ì„±

- **Multi-AZ ë°°í¬**: ê°€ìš© ì˜ì—­ ìž¥ì•  ëŒ€ì‘
- **Auto Scaling**: íŠ¸ëž˜í”½ ì¦ê°€ ì‹œ ìžë™ í™•ìž¥
- **ì½ê¸° ì „ìš© ë³µì œë³¸**: ì½ê¸° ì„±ëŠ¥ í–¥ìƒ

---

## ë³´ì•ˆ ì„¤ì •

### SSL/TLS ì¸ì¦ì„œ

**ë„êµ¬**: AWS Certificate Manager (ACM)

```bash
# Let's Encrypt ì¸ì¦ì„œ ë°œê¸‰ (ë¬´ë£Œ)
sudo certbot --nginx -d api.stock-keeper.com
```

### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

**ë„êµ¬**: AWS Secrets Manager ë˜ëŠ” Parameter Store

**ë¯¼ê° ì •ë³´**:
- DB ë¹„ë°€ë²ˆí˜¸
- JWT Secret
- í•œíˆ¬ API Key/Secret
- Google OAuth Client Secret

**GitHub Secrets ì„¤ì •**:
```yaml
# .github/workflows/deploy.yml
env:
  DB_PASSWORD: ${{ secrets.DB_PASSWORD }}
  JWT_SECRET: ${{ secrets.JWT_SECRET }}
```

### ë°©í™”ë²½ ì„¤ì •

**EC2 Security Group**:
- ì¸ë°”ìš´ë“œ:
  - 443 (HTTPS): 0.0.0.0/0
  - 22 (SSH): íŠ¹ì • IPë§Œ í—ˆìš©
- ì•„ì›ƒë°”ìš´ë“œ:
  - ì „ì²´ í—ˆìš©

---

## ê´€ë ¨ ë¬¸ì„œ

- **ì¸í”„ë¼ ìƒì„¸**: [reference/infra.md](infra.md)
- **ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸**: [reference/security.md](security.md)
- **í…ŒìŠ¤íŠ¸ ì „ëžµ**: [reference/testing.md](testing.md)
- **API ìŠ¤íŽ™**: [reference/api-spec.md](api-spec.md)
- **ê¸°ìˆ  ìŠ¤íƒ**: [core/tech-stack.md](../core/tech-stack.md)

---

## íŒ€ ë…¼ì˜ í•„ìš” ì‚¬í•­

- [ ] ìŠ¤í…Œì´ì§• í™˜ê²½ êµ¬ì¶• ì‹œì  (Phase 1 ë§ vs Phase 2 ì´ˆ)
- [ ] ë°°í¬ ìžë™í™” ìš°ì„ ìˆœìœ„ (Backend ë¨¼ì € vs í•¨ê»˜)
- [ ] ì—ëŸ¬ ì¶”ì  ë„êµ¬ ì˜ˆì‚° (Sentry ìœ ë£Œ vs Firebase Crashlytics ë¬´ë£Œ)
- [ ] ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì„ íƒ (New Relic vs DataDog vs Prometheus)
- [ ] Blue-Green ë°°í¬ ë„ìž… ì‹œì  (Phase 3 ì´ˆ vs ì¤‘ë°˜)

---

> ðŸ“… **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-31  
> ðŸ“ **ë²„ì „**: 1.0.0  
> ðŸŽ¯ **Phase**: Phase 1 (MVP ê°œë°œ ì¤‘)

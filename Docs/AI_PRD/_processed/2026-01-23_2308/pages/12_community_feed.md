# 커뮤니티 피드 페이지 시나리오 (Community Feed)

## 개요

- 커뮤니티 메인 화면: 게시글 + 포트폴리오 통합 피드
- 사용자 게시글/분석글 탐색
- 다른 사용자의 공개 포트폴리오 발견

## 진입 조건

| 조건 | 동작 |
|------|------|
| 로그인 완료 | 피드 표시 (좋아요 여부 반영) |
| 비로그인 | 피드 조회만 가능 |
| 앱 네비게이션 | 하단 탭 "커뮤니티" 선택 |

## 레이아웃

```
┌─────────────────────────────────────┐
│  커뮤니티             [🔍]   [➕]   │
├─────────────────────────────────────┤
│  [전체▼]              [최신순▼]     │
├─────────────────────────────────────┤
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 📄 국내주식                      │ │
│ │ 삼성전자, 지금 사도 될까요?      │ │
│ │ 안녕하세요. 최근 삼성전자 주가가 │ │
│ │ 많이 올랐는데요...               │ │
│ │ 🖼 2  ❤️ 42  💬 12              │ │
│ │ 투자왕김철수 · 2시간 전          │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 📊 포트폴리오                   │ │
│ │ 배당주 포트폴리오                │ │
│ │ 종목 8개 · 배당러버              │ │
│ │ ❤️ 156  📋 23                   │ │
│ │ 1일 전                          │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 📄 토론                         │ │
│ │ 2026년 상반기 투자 전략         │ │
│ │ 올해 상반기 주식 시장 전망은... │ │
│ │ ❤️ 89  💬 34                    │ │
│ │ 주식고수 · 5시간 전             │ │
│ └─────────────────────────────────┘ │
│                                     │
│          ⌛ 더 불러오는 중...        │
└─────────────────────────────────────┘
│ [홈]  [포폴]  [커뮤]  [설정]        │
└─────────────────────────────────────┘
```

## 컴포넌트

### 헤더

| 요소 | 설명 |
|------|------|
| 타이틀 | "커뮤니티" |
| 검색 버튼 (🔍) | 검색 화면으로 이동 |
| 작성 버튼 (➕) | 게시글 작성 모달/화면 |

### 필터 바

| 필터 | 옵션 | Phase |
|------|------|-------|
| 카테고리 | 전체, 포트폴리오, 토론, 질문, 국내주식, 해외주식, 자유 | P2 |
| 정렬 | 최신순 | P2 |
| 정렬 | 인기순, 팔로잉 | P3 |

### 게시글 카드

| 요소 | 설명 |
|------|------|
| 카테고리 배지 | 📄 + 카테고리명 |
| 제목 | 1줄, 말줄임 (최대 30자) |
| 미리보기 | 2줄, 말줄임 |
| 통계 | 🖼 이미지수 · ❤️ 좋아요수 · 💬 댓글수 |
| 작성자 정보 | 닉네임 · 상대 시간 |

### 포트폴리오 카드

| 요소 | 설명 |
|------|------|
| 타입 배지 | 📊 포트폴리오 |
| 포트폴리오명 | 1줄, 말줄임 |
| 정보 | 종목 N개 · 작성자명 |
| 통계 | ❤️ 좋아요수 · 📋 복사수 |
| 시간 | 상대 시간 |

### FAB (작성 버튼)

- 위치: 우하단 고정 (또는 헤더 ➕ 아이콘)
- 본인인증 미완료 시 인증 유도 모달 표시

## 상호작용

| 액션 | 동작 |
|------|------|
| 게시글 카드 탭 | 게시글 상세 화면 이동 |
| 포트폴리오 카드 탭 | 포트폴리오 상세 화면 이동 |
| 좋아요 아이콘 탭 | 좋아요 토글 (본인인증 필수) |
| 작성자 탭 | 사용자 프로필 화면 이동 |
| 검색 버튼 탭 | 검색 화면 이동 |
| 작성 버튼 탭 | 게시글 작성 화면 (본인인증 필수) |
| Pull to Refresh | 최신 데이터 로드 |
| 스크롤 끝 도달 | 다음 페이지 무한 스크롤 |
| 카테고리 필터 변경 | 해당 카테고리만 필터링 |
| 정렬 변경 | 정렬 순서 변경 |

## 상태

| 상태 | UI |
|------|-----|
| Loading | 스켈레톤 카드 3~4개 표시 |
| Empty | "아직 게시글이 없습니다" + 작성 버튼 |
| Error | "데이터를 불러올 수 없습니다" + 재시도 버튼 |
| 추가 로딩 | 하단 스피너 표시 |
| 마지막 페이지 | "모든 게시글을 확인했습니다" 메시지 |

## 본인인증 미완료 시

| 액션 | 결과 |
|------|------|
| 피드 조회 | ✅ 가능 |
| 좋아요 탭 | ⛔ "본인인증이 필요합니다" 모달 → 인증 화면 |
| 댓글 작성 | ⛔ 모달 표시 |
| 게시글 작성 | ⛔ 모달 표시 |

## 엣지 케이스

| 상황 | 처리 |
|------|------|
| 게시글 0개 | Empty State UI |
| 네트워크 오류 | 오류 메시지 + 재시도 버튼 |
| 무한 스크롤 로드 실패 | 토스트 메시지 + 재시도 |
| 새 게시글 작성 후 돌아옴 | 자동 새로고침 |
| 삭제된 게시글 접근 | "삭제된 게시글입니다" 토스트 |

## 프로토타입 체크리스트

### 레이아웃

- [ ] `[직접]` 헤더 타이틀 "커뮤니티" 표시
- [ ] `[직접]` 검색/작성 아이콘 버튼 표시
- [ ] `[직접]` 필터 바 (카테고리, 정렬) 표시
- [ ] `[직접]` 하단 네비게이션 탭 표시

### 게시글 카드

- [ ] `[직접]` 카테고리 배지 표시
- [ ] `[직접]` 제목 + 미리보기 텍스트
- [ ] `[직접]` 이미지/좋아요/댓글 수 통계
- [ ] `[직접]` 작성자 + 시간 표시

### 포트폴리오 카드

- [ ] `[직접]` 📊 배지로 구분
- [ ] `[직접]` 포트폴리오명 + 종목 수
- [ ] `[직접]` 좋아요/복사 수 통계

### 상태 UI

- [ ] `[패널]` Loading 상태 - 스켈레톤 카드
- [ ] `[패널]` Empty 상태 - 안내 메시지
- [ ] `[패널]` Error 상태 - 에러 메시지

### 본인인증 모달

- [ ] `[직접]` 본인인증 필요 모달 UI

## 관련 스펙

- API: `../../specs/api/community/feed-list.md`
- UI: `../../specs/ui/community/feed.md`
- 다음 화면: `13_community_search.md`

---
type: ui
phase: P1
screen: 종목 추가 모달
related:
  api:
    - ../../api/stock/search.md
    - ../../api/stock/add.md
reference: ../../../reference/pages/stock_search.md
---

# 종목 추가 모달 (Stock Add Modal)

## 개요

종목 검색 후 포트폴리오에 추가하는 모달 (맥락 유지)

## 레이아웃 (Modal)

```
┌─────────────────────────────────────┐
│ 현대자동차                      [X] │
├─────────────────────────────────────┤
│ ₩186,500                   +1.24%  │
├─────────────────────────────────────┤
│ 보유 수량                           │
│         [-]  10주  [+]              │
│         예상 금액: ₩1,865,000       │
├─────────────────────────────────────┤
│ 목표 비율                    10%   │
│ ○━━━━━━●━━━━━━━━━━━━━━○           │
│ 남은 비율: 40.0%                    │
├─────────────────────────────────────┤
│  [취소]              [추가하기]     │
└─────────────────────────────────────┘
```

## 컴포넌트

### 1. 모달 헤더

| 요소 | 설명 |
|------|------|
| 종목명 | 선택된 종목 이름 |
| 닫기 버튼 [X] | 모달 닫기 (이전 화면 유지) |

### 2. 현재가 섹션

| 요소 | 설명 |
|------|------|
| 현재가 | 실시간 가격 (₩/$) |
| 등락률 | 전일 대비 (색상 구분) |

### 3. 수량 입력

| 요소 | 설명 |
|------|------|
| 수량 스테퍼 | [-] / [+] 버튼 |
| 직접 입력 | 숫자 타자 입력 가능 |
| 예상 금액 | 현재가 × 수량 자동 계산 |

### 4. 비율 슬라이더

| 요소 | 설명 |
|------|------|
| 슬라이더 | 드래그로 비율 조정 |
| 직접 입력 | % 직접 입력 가능 |
| 남은 비율 | 100% - 기존 종목 합계 |

### 5. 액션 버튼

| 요소 | 설명 |
|------|------|
| 취소 버튼 | 모달 닫기, 변경사항 무시 |
| 추가하기 버튼 | 서버 저장 후 모달 닫기 |

## 상호작용

| 액션 | 동작 |
|------|------|
| [X] 또는 취소 | 모달 닫기 (이전 화면 유지) |
| 수량 변경 | 예상 금액 자동 계산 |
| 비율 슬라이더 | 실시간 비율 표시 |
| 추가하기 | 서버 저장 → 모달 닫기 + 토스트 ("추가되었습니다") + 목록 갱신 |
| 배경 탭 | 모달 닫기 (선택적) |

## 상태

| 상태 | UI |
|------|-----|
| 기본 | 수량 0, 버튼 비활성화 |
| 입력 중 | 버튼 활성화 |
| 비율 초과 | 슬라이더 빨간색, 버튼 비활성화 |
| 저장 중 | 버튼 로딩 상태, 입력 비활성화 |
| 성공 | 토스트 "추가되었습니다" + 모달 닫기 |
| 에러 | 토스트 에러 메시지 |

## 관련 스펙

- API: `../../api/stock/search.md`
- API: `../../api/stock/add.md`


| 기능 영역 | 기능 | 설명 | 조건·제약 | 우선순위 | Phase |
| --- | --- | --- | --- | --- | --- |
| **인증 & 계정** | Google 소셜 로그인 | Google OAuth 2.0을 통한 사용자 인증 및 계정 생성 | - HTTPS 필수<br>- 이메일, 이름, Google ID 수집<br>- JWT 토큰 발급 (Access 1시간, Refresh 14일) | 필수 | 1 |
|  | 프로필 입력 | 최초 로그인 시 닉네임 및 선택적으로 프로필 사진 입력 | - 닉네임 1~20자<br>- 프로필 사진은 선택 사항 | 필수 | 1 |
|  | 자동 토큰 갱신 | Access Token 만료 시 Refresh Token으로 자동 갱신 | - 401 에러 발생 시 자동 처리<br>- 갱신 실패 시 로그인 화면 이동 | 필수 | 1 |
|  | 로그아웃 | 사용자 로그아웃 및 토큰 무효화 | - Refresh Token DB에서 삭제<br>- 로컬 저장소 토큰 삭제 | 필수 | 1 |
| **포트폴리오 관리** | 포트폴리오 목록 조회 | 사용자의 모든 포트폴리오를 카드 형태로 표시 | - 이름, 총 평가금액, 수익률 표시<br>- 최대 5개까지 생성 가능<br>- 사용자 지정 순서 정렬 | 필수 | 1 |
|  | 포트폴리오 생성 | 새로운 포트폴리오 추가 | - 최초 가입 시 기본 포트폴리오 1개 자동 생성<br>- 이름 필수 (1~20자)<br>- 설명 선택 (최대 100자) | 필수 | 1 |
|  | 포트폴리오 수정 | 포트폴리오 이름 및 설명 수정 | - 이름 1~20자 제한<br>- 설명 최대 100자 | 필수 | 1 |
|  | 포트폴리오 삭제 | 선택한 포트폴리오 삭제 | - 마지막 1개 삭제 시 빈 포트폴리오 자동 생성<br>- 삭제 확인 다이얼로그 표시<br>- 연관된 종목도 함께 삭제 (Cascade) | 필수 | 1 |
|  | 포트폴리오 상세 조회 | 포트폴리오의 상세 정보 및 종목 목록 표시 | - 총 평가금액, 수익률, 수익금 표시<br>- 종목별 현재가, 평가금액, 현재비율 표시<br>- 실시간 시세 반영 (30초~1분 간격) | 필수 | 1 |
| **종목 관리** | 종목 검색 | 한국투자증권 API를 통한 종목 검색 | - 종목명 또는 종목코드로 검색<br>- 검색 결과: 종목명, 종목코드, 현재가 표시<br>- 응답 시간 < 1초 | 필수 | 1 |
|  | 종목 추가 | 포트폴리오에 종목 및 보유 수량 추가 | - 보유 수량 필수 (정수 또는 소수점 4자리)<br>- 목표 비율 선택 입력 (0~100%)<br>- 동일 종목 중복 추가 불가 | 필수 | 1 |
|  | 종목 수정 | 종목의 보유 수량 및 목표 비율 수정 | - 수량 1 이상 (또는 0.0001 이상)<br>- 목표 비율 0~100% | 필수 | 1 |
|  | 종목 삭제 | 포트폴리오에서 종목 제거 | - 스와이프 또는 편집 모드에서 삭제<br>- 삭제 확인 다이얼로그 표시 | 필수 | 1 |
|  | 실시간 시세 조회 | 한국투자증권 API를 통한 실시간 주식 시세 조회 | - 장중: 30초~1분 간격 자동 갱신<br>- 장외: 수동 새로고침<br>- 캐싱으로 API 호출 최소화<br>- Pull to Refresh 지원 | 필수 | 1 |
| **리밸런싱** | 목표 비율 설정 | 각 종목의 목표 비율 설정 | - 전체 종목 합계 100%<br>- 소수점 첫째 자리까지<br>- 미설정 시 균등 분배 또는 현재 비율 유지 | 필수 | 1 |
|  | 리밸런싱 분석 | 현재 비율과 목표 비율을 비교하여 매수/매도 제안 | - 임계값 기본 ±5% (사용자 설정 가능)<br>- 종목별 권장 매수/매도 수량 및 금액 제시<br>- 비율 차이 큰 순서대로 정렬<br>- 응답 시간 < 1초 | 필수 | 1 |
|  | 리밸런싱 차트 | 현재 비율 vs 목표 비율 시각화 | - 파이 차트 또는 바 차트<br>- 종목별 비교 가능 | 선택 | 2 |
| **알림** | 리밸런싱 알림 설정 | 포트폴리오별 리밸런싱 필요 시 알림 발송 | - 알림 주기: 매일/매주/2주마다/한 달마다<br>- 알림 시간 사용자 지정<br>- 임계값 설정 (기본 ±5%)<br>- 포트폴리오별 개별 설정 가능 | 필수 | 1 |
|  | 알림 발송 | 설정된 조건에 따라 푸시 알림 또는 앱 내 알림 발송 | - 제목: [포트폴리오명] 리밸런싱 필요<br>- 내용: n개 종목 비율 조정 필요<br>- 알림 탭 시 해당 포트폴리오 상세 화면 이동 | 필수 | 1 |
|  | 알림 ON/OFF | 전체 알림 또는 포트폴리오별 알림 활성화/비활성화 | - 설정 메뉴에서 제어<br>- 기본값: OFF | 필수 | 1 |
| **설정** | 프로필 정보 수정 | 닉네임 및 프로필 사진 수정 | - 닉네임 1~20자<br>- 프로필 사진 업로드 또는 삭제 | 필수 | 1 |
|  | 개인정보 처리방침 확인 | 개인정보 처리방침 문서 표시 | - 웹뷰 또는 외부 링크<br>- 앱 출시 전 필수 작성 | 필수 | 1 |
|  | 이용약관 확인 | 서비스 이용약관 문서 표시 | - 웹뷰 또는 외부 링크 | 필수 | 1 |
|  | 버전 정보 | 현재 앱 버전 표시 | - 버전 번호 표시<br>- 최신 버전 확인 (선택) | 선택 | 1 |
|  | 회원 탈퇴 | 계정 삭제 및 모든 데이터 제거 | - 탈퇴 확인 다이얼로그 2단계<br>- 개인정보 즉시 삭제<br>- 포트폴리오 데이터 30일 내 완전 삭제 | 선택 | 2 |
| **성능 & 보안** | API Rate Limiting | API 요청 횟수 제한으로 서버 보호 | - 전역: 60회/분 per IP<br>- 인증 API: 10회/분<br>- 실시간 시세: 30회/분 per User | 필수 | 1 |
|  | 데이터 캐싱 | 실시간 시세 데이터 캐싱으로 API 호출 최소화 | - Phase 1: 앱 메모리 캐시 (30초 TTL)<br>- Phase 2: Redis 캐시 (30초 TTL, 50-70% 호출 감소) | 필수 | 1~2 |
|  | HTTPS 통신 | 모든 API 요청은 HTTPS로 암호화 | - 프로덕션 환경 필수<br>- 개발 환경 [localhost](http://localhost) 허용 | 필수 | 1 |
|  | 데이터베이스 암호화 | 저장 데이터 및 전송 데이터 암호화 | - AWS RDS AES-256 암호화<br>- TLS/SSL 연결 강제 | 필수 | 1 |
|  | 자동 백업 | 데이터베이스 정기 자동 백업 | - 매일 새벽 3시 백업<br>- 7일 보관<br>- Point-in-Time Recovery 지원 | 필수 | 1 |
| **모니터링** | 에러 추적 | 앱 크래시 및 에러 자동 수집 | - Firebase Crashlytics (모바일)<br>- CloudWatch (백엔드)<br>- 크리티컬 에러 시 즉시 알림 | 필수 | 1 |
|  | 성능 모니터링 | API 응답 시간, 서버 리소스 모니터링 | - API 응답 P95 < 1초<br>- CPU < 70%, 메모리 < 80%<br>- 크래시율 < 1% | 필수 | 1 |
|  | 사용자 행동 분석 | 앱 사용 패턴 분석으로 서비스 개선 | - Firebase Analytics (기본)<br>- 사용자 동의 후 수집 | 선택 | 2 |
